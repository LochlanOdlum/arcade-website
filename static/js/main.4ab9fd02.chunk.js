(this["webpackJsonpgame-website"]=this["webpackJsonpgame-website"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(50),c=a.n(r),i=(a(34),a(8)),s=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{className:"nostyle",to:"/ttt"},l.a.createElement("div",{className:"game-button"},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{className:"icon",src:"/images/ttt-board-invert.png",alt:"tic tac toe board"})),l.a.createElement("div",{className:"text"},l.a.createElement("h2",{className:"game-button-title"},"Tic-Tac-Toe")))))},o=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{className:"nostyle",to:"/connect4"},l.a.createElement("div",{className:"game-button"},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{className:"icon",src:"/images/connect4.png",alt:"Connect 4"})),l.a.createElement("div",{className:"text"},l.a.createElement("h2",{className:"game-button-title"},"Connect 4")))))},u=(a(61),function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{className:"nostyle",to:"/snake"},l.a.createElement("div",{className:"game-button"},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{className:"icon",src:"/images/snake.png",alt:"snake game"})),l.a.createElement("div",{className:"text"},l.a.createElement("h2",{className:"game-button-title"},"Snake")))))}),m=a(1),d=(a(62),function(e){var t=e.text;return l.a.createElement("div",{className:"error-block"},l.a.createElement("div",{className:"error-content"},l.a.createElement("span",{className:"error-symbol"},l.a.createElement("div",{className:"error-circle"}),l.a.createElement("div",{className:"error-cross error-cross-up"}),l.a.createElement("div",{className:"error-cross error-cross-down"})),l.a.createElement("span",{className:"error-text"},l.a.createElement("span",{className:"ohno"},"Oh no!")," ",t)))}),f=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{className:"nostyle",to:"/"},l.a.createElement("div",{className:"game-button"},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{onClick:function(){a||(r(!0),setTimeout((function(){r(!1)}),5e3))},className:"icon",src:"/images/chess12.png",alt:"chess 4 board"}),function(){if(a)return l.a.createElement(d,{text:"Chess is currently under development!"})}()),l.a.createElement("div",{className:"text"},l.a.createElement("h2",{className:"game-button-title"},"Chess")))))},v=function(){return l.a.createElement("div",{className:"game-block"},l.a.createElement("div",{className:"game-grid-container"},l.a.createElement(s,null),l.a.createElement(o,null),l.a.createElement(u,null),l.a.createElement(f,null)))},y=(a(63),a(64),function(){return l.a.createElement("div",{className:"ttt-header"},l.a.createElement("span",{className:"ttt-name"},l.a.createElement("a",{className:"nostyle header-link",href:"/"},"Arcade || Lochlan.cc")))}),p=(a(65),function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),o=s[0],u=s[1];return l.a.createElement(l.a.Fragment,null,function(){if(o)return l.a.createElement(d,{text:"You must enter a nickname to play Online!"})}(),l.a.createElement("div",{className:"ttt-pop-up"},l.a.createElement("div",{className:"ttt-pop-up-container"},l.a.createElement("div",{className:"ttt-pop-up-title"},l.a.createElement("span",{className:"ttt-title-yellow"},"T"),l.a.createElement("span",{className:"ttt-title-red"},"I"),l.a.createElement("span",{className:"ttt-title-yellow"},"C"),l.a.createElement("span",{className:"ttt-title-red"}," T"),l.a.createElement("span",{className:"ttt-title-yellow"},"A"),l.a.createElement("span",{className:"ttt-title-red"},"C "),l.a.createElement("span",{className:"ttt-title-yellow"},"T"),l.a.createElement("span",{className:"ttt-title-red"},"O"),l.a.createElement("span",{className:"ttt-title-yellow"},"E")),l.a.createElement("div",{className:"ttt-pop-up-center-block"},l.a.createElement("input",{value:r,onChange:function(e){e.target.value.length<12&&c(e.target.value)},className:"ttt-nickname",placeholder:"Nick"}),l.a.createElement("div",{className:"ttt-play",id:"ttt-play-online",onClick:function(){r||o?r&&(e.setOnlineNick(r),e.setGameType("online")):(u(!0),setTimeout((function(){u(!1)}),5e3))}},"Play Online!"),l.a.createElement("div",{className:"ttt-offline-container"},"or"," ",l.a.createElement("div",{className:"ttt-play",id:"ttt-play-offline",onClick:function(){e.setGameType("offlineFriend")}},"Offline vs Friend!")),l.a.createElement("div",{className:"ttt-offline-container"},l.a.createElement("div",{className:"ttt-play",id:"ttt-play-offlineBot",onClick:function(){e.setGameType("offlineBot")}},"Offline vs Bot!"))))))}),E=(a(66),a(6)),g=(a(67),a(68),a(37),function(e){var t=e.side,a=e.name,n=e.game,r=e.id,c=e.value,i=e.playerType,s="user"===i?"/images/user-icon.svg":"/images/bot-icon.svg",o="user"===i?"user":"bot",u=r===n.currentPlayer.id?" player-box-border":"";return l.a.createElement("span",{className:"ttt player-box-container ".concat(t).concat(u)},l.a.createElement("span",{className:"".concat(o,"-icon-circle")},l.a.createElement("img",{className:"svg-".concat(o,"-icon"),alt:"user icon",src:s})),l.a.createElement("div",{className:"player-box-name"},a),"x"===c?l.a.createElement("img",{className:"ttt-player-box-icon",alt:"small red cross",src:"/images/ttt-cross.svg"}):l.a.createElement("img",{className:"ttt-player-box-icon",alt:"small yellow circle",src:"/images/ttt-circle.svg"}))}),h=a(9),b={preGame:Symbol("preGame"),inGame:Symbol("inGame"),draw:Symbol("draw"),won:Symbol("won")},N=function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.winner=null,this.status=b.preGame,this.leave=function(e){e===t.currentPlayer&&t.goToNextPlayer();var a=t.players.indexOf(e);t.players.splice(a,1),1===t.players.length&&t.setWinner(t.players[0])},this.setWinner=function(e){t.winner=e},this.setCurrentPlayer=function(e){t.currentPlayer=e},this.goToNextPlayer=function(){var e=(t.players.indexOf(t.currentPlayer)+1)%t.players.length;t.setCurrentPlayer(t.players[e])},this.players=a,this.currentPlayer=a[0]},w=a(18),k=a.n(w),O={angle:90,spread:"360",startVelocity:"35",elementCount:"70",dragFriction:.12,duration:3e3,stagger:"1",width:"13px",height:"13px",perspective:"500px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]},P=function(e){var t=e.game,a=e.onSquareClick,r=e.myPlayer,c=Object(n.useState)(!1),i=Object(m.a)(c,2),s=i[0],o=i[1];Object(n.useEffect)((function(){t.status===b.won&&(null===r||void 0===r?void 0:r.value)===t.winner.value&&o(!0),t.status===b.inGame&&o(!1)}),[t.status]);var u=function(e,a){return s&&function(){var n,l=Object(E.a)(t.winningSquares);try{for(l.s();!(n=l.n()).done;){var r=n.value;if(r[0]===e&&r[1]===a)return!0}}catch(c){l.e(c)}finally{l.f()}}()},d=function(e,a){if(void 0===t.status)return"";var n,l=Object(E.a)(t.winningSquares);try{for(l.s();!(n=l.n()).done;){var c=Object(m.a)(n.value,2),i=c[0],s=c[1];if(e===i&&a===s)return t.winner.value===r.value?"square-won":"square-loss"}}catch(o){l.e(o)}finally{l.f()}return""},f=function(e,a,n){if(e){var r=t.players.find((function(t){return t.id===e}));return"x"===r.value?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cross cross-up cross-".concat(d(a,n))}),l.a.createElement("div",{className:"cross cross-down cross-".concat(d(a,n))})):"o"===r.value?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"circle circle-inner circle-".concat(d(a,n))}),l.a.createElement("div",{className:"circle circle-outer circle-".concat(d(a,n))})):void 0}};return l.a.createElement("div",{className:"ttt-board-block"},l.a.createElement("div",{className:"board-container"},l.a.createElement(g,{game:t,name:t.players[0].name,id:t.players[0].id,value:t.players[0].value,playerType:t.players[0].playerType,side:"left"}),l.a.createElement("div",{className:"break"}),l.a.createElement("div",{className:"board"},function(){if(t.board)return t.board.map((function(e,t){return l.a.createElement("div",{key:"column-".concat(t),className:"board-column ".concat(t)},e.map((function(e,n){return l.a.createElement("div",{key:"square-".concat(n),className:"board-square ".concat(d(t,n)," x-").concat(t," y-").concat(n),onClick:function(){return a(t,n)}},l.a.createElement(k.a,{active:u(t,n),config:O}),f(e,t,n))})))}))}()),l.a.createElement(g,{game:t,name:t.players[1].name,id:t.players[1].id,value:t.players[1].value,playerType:t.players[1].playerType,side:"right"})),l.a.createElement("div",{className:"score-container"},function(){var e;return null===(e=t.lastResults)||void 0===e?void 0:e.map((function(e,t){return"tie"===e?l.a.createElement("img",{key:t,className:"ttt-tie-icon ttt-score-icon",alt:"small tie",src:"/images/tie.svg"}):"x"===e.value?l.a.createElement("img",{key:t,className:"ttt-score-icon ttt-score-cross",alt:"small red cross",src:"/images/ttt-cross.svg"}):l.a.createElement("img",{key:t,className:"ttt-score-icon ttt-score-circle",alt:"small yellow circle",src:"/images/ttt-circle.svg"})}))}()))},C=a(22),j=a(20),x=function(e){Object(C.a)(a,e);var t=Object(j.a)(a);function a(e){var n;if(Object(h.a)(this,a),e.length>2)throw new Error("You have too many friends");return(n=t.call(this,e)).board=[[null,null,null],[null,null,null],[null,null,null]],n.ties=0,n.winningSquares=[[null,null],[null,null],[null,null]],n.lastResults=[],n.lastResultsAmount=7,n.start=function(){n.status=b.inGame},n.checkForDraw=function(e){if(n.status===b.won)return!1;var t,a=0,l=Object(E.a)(e);try{for(l.s();!(t=l.n()).done;){var r,c=t.value,i=Object(E.a)(c);try{for(i.s();!(r=i.n()).done;){null===r.value&&(a+=1)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){l.e(s)}finally{l.f()}return 0===a},n.checkForWinAtPoint=function(e,t){var a=Object(m.a)(t,2),n=a[0],l=a[1],r=[[n,l],[null,null],[null,null]],c=e[n][l];if(!c)return[!1,[[null,null],[null,null],[null,null]]];for(var i=0,s=[[-1,0],[-1,-1],[0,-1],[-1,1]];i<s.length;i++){for(var o=s[i],u=1,d=0,f=[1,-1];d<f.length;d++)for(var v=f[d],y=n+o[0]*v,p=l+o[1]*v;y>=0&&y<e.length&&p>=0&&p<e[0].length&&e[y][p]===c;)r[u]=[y,p],u+=1,y+=o[0]*v,p+=o[1]*v;if(u>=3)return[!0,r]}return[!1,[[null,null],[null,null],[null,null]]]},n.bestMove=function(e){if(n.status!==b.inGame)throw new Error("Can't find best move of game if it isn't in progress");if(n.currentPlayer.id!==e.id)throw new Error("It isn't this players turn so cannot find their best move. Please wait your turn");for(var t=[null,null],a=n.players.find((function(t){return t.id!==e.id})),l=-1/0,r=[[null,null,null],[null,null,null],[null,null,null]],c=0;c<n.board.length;c++)for(var i=0;i<n.board[c].length;i++)r[c][i]=n.board[c][i],n.board[c][i];for(var s=0;s<r.length;s++)for(var o=0;o<r[s].length;o++)if(null===r[s][o]){r[s][o]=e.id;var u=void 0;(u=n.checkForWinAtPoint(r,[s,o])[0]?10:n.checkForDraw(r)?0:n.minimax(r,!1,2,e,a))>l&&(l=u,t=[s,o]),r[s][o]=null}return t},n.minimax=function(e,t,a,l,r){if(a>2){var c=Math.random();if(c<.1)return c-1}if(2===a){var i=Math.random();if(i<.05)return i-1}if(t){for(var s=-1/0,o=0;o<e.length;o++)for(var u=0;u<e[o].length;u++)if(null===e[o][u]){e[o][u]=l.id;var m=void 0;(m=n.checkForWinAtPoint(e,[o,u])[0]?10-a:n.checkForDraw(e)?0:n.minimax(e,!1,a+1,l,r))>s&&(s=m),e[o][u]=null}return s}if(!t){for(var d=1/0,f=0;f<e.length;f++)for(var v=0;v<e[f].length;v++)if(null===e[f][v]){e[f][v]=r.id;var y=void 0;(y=n.checkForWinAtPoint(e,[f,v])[0]?-10+a:n.checkForDraw(e)?0:n.minimax(e,!0,a+1,l,r))<d&&(d=y),e[f][v]=null}return d}},n.takeTurn=function(e,t){var a=Object(m.a)(t,2),l=a[0],r=a[1];if(n.status!==b.inGame)throw new Error("The game is not currently active");if(e.id!==n.currentPlayer.id)throw new Error("Whoops! It's not your turn yet");if(n.board[l][r])throw new Error("Someone has already moved there");n.board[l][r]=e.id;var c=n.checkForWinAtPoint(n.board,[l,r]),i=Object(m.a)(c,2),s=i[0],o=i[1];s&&(e.score+=1,n.winner=e,n.status=b.won,n.winningSquares=o,n.lastResults.push(n.winner),n.lastResults.length>n.lastResultsAmount&&n.lastResults.splice(0,n.lastResults.length-n.lastResultsAmount)),n.checkForDraw(n.board)&&(n.ties+=1,n.status=b.draw,n.lastResults.push("tie"),n.lastResults.length>n.lastResultsAmount&&n.lastResults.splice(0,n.lastResults.length-n.lastResultsAmount)),n.status!==b.won&&n.status!==b.draw&&n.goToNextPlayer()},n.playAgain=function(){n.winningSquares=[[null,null],[null,null],[null,null]],n.winner=null,n.status=b.inGame,n.board=[[null,null,null],[null,null,null],[null,null,null]];var e=n.players.find((function(e){return e.id!==n.startingPlayer.id}));n.setCurrentPlayer(e),n.startingPlayer=e},n.startingPlayer=n.players.find((function(e){return"x"===e.value})),n.setCurrentPlayer(n.startingPlayer),n}return a}(N),T=function(){return l.a.useReducer((function(){return{}}))[1]},S={board:[[null,null,null],[null,null,null],[null,null,null]],ties:0,players:[{id:"1",name:"Player 1",value:"x",score:0,playerType:"user"},{id:"0",name:"Player 2",value:"o",score:0,playerType:"user"}],get currentPlayer(){return this.players[0]}},F={},A=function(){var e,t,a,n,l,r,c,i,s,o=T();return{start:function(e){var t=new x(e);t.start(),F=t,o()},takeTurn:function(e,t){var a=Object(m.a)(t,2),n=a[0],l=a[1];F.takeTurn(e,[n,l]),o()},bestMove:function(e){return F.bestMove(e)},setCurrentPlayer:function(e){F.setCurrentPlayer(e),o()},leave:function(e){F.leave(e),o()},playAgain:function(){F.playAgain(),o()},winningSquares:null===(e=F)||void 0===e?void 0:e.winningSquares,lastResults:null===(t=F)||void 0===t?void 0:t.lastResults,ties:null===(a=F)||void 0===a?void 0:a.ties,board:null===(n=F)||void 0===n?void 0:n.board,players:null===(l=F)||void 0===l?void 0:l.players,winner:null===(r=F)||void 0===r?void 0:r.winner,status:null===(c=F)||void 0===c?void 0:c.status,currentPlayer:null===(i=F)||void 0===i?void 0:i.currentPlayer,startingPlayer:null===(s=F)||void 0===s?void 0:s.startingPlayer}},G=function(){var e=A();Object(n.useEffect)((function(){e.start(S.players)}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement(P,{game:void 0===e.status?S:e,onSquareClick:function(t,a){if(e.status===b.draw||e.status===b.won)e.playAgain();else try{e.takeTurn(e.currentPlayer,[t,a])}catch(n){console.error(n)}},myPlayer:e.currentPlayer}))},R=a(19),M=a.n(R),D=(a(95),function(){return l.a.createElement("div",{className:"lds-roller"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null))}),q=(a(96),function(e){return l.a.createElement("div",{className:"background-screen"},e.children)}),W=(a(97),function(e){var t=e.text;return l.a.createElement(l.a.Fragment,null,l.a.createElement(q,null),l.a.createElement("div",{className:"loading-overlay-centre"},l.a.createElement(D,null),l.a.createElement("div",{className:"loading-overlay-text"},t)))}),Y={name:"",id:Math.floor(1e14*Math.random()),value:"",score:0,playerType:"user"},I={name:"",id:"",value:"",score:0,playerType:"user"},B="",L=function(e){var t=e.name,a=Object(n.useState)(!1),r=Object(m.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(!1),o=Object(m.a)(s,2),u=o[0],d=o[1],f=A();Object(n.useEffect)((function(){Y.name=t,(B=M.a.connect("https://lochlancc-backend.herokuapp.com/")).emit("ttt-connect",Y),B.on("ttt-connected",(function(){i(!0)})),B.on("ttt-match-found",(function(e){d(!0);var t=e[e.findIndex((function(e){return e.id===Y.id}))],a=e[e.findIndex((function(e){return e.id!==Y.id}))];Y.value=t.value,I=a,v([Y,a])})),B.on("ttt-turn-taken",(function(e){var t=e.x,a=e.y;f.takeTurn(I,[t,a])})),B.on("ttt-playing-again",(function(){f.playAgain()}))}),[]);var v=function(e,t){f.start(e,t)};return l.a.createElement(l.a.Fragment,null,c?c&&!u?l.a.createElement(W,{text:"Joined queue. Searching for other players..."}):void 0:l.a.createElement(W,{text:"Connecting to server..."}),l.a.createElement(y,null),l.a.createElement(P,{game:void 0===f.status?S:f,onSquareClick:function(e,t){if(f.status===b.draw||f.status===b.won)B.emit("ttt-play-again",{playerOther:I}),f.playAgain();else try{f.takeTurn(Y,[e,t]),B.emit("ttt-take-turn",{playerSelf:Y,playerOther:I,coords:{x:e,y:t}})}catch(a){}},myPlayer:Y}))},H={board:[[null,null,null],[null,null,null],[null,null,null]],ties:0,players:[{id:"1",name:"You",value:"x",score:0,playerType:"user"},{id:"0",name:"Bot",value:"o",score:0,playerType:"bot"}],get currentPlayer(){return this.players[0]}},J=function(){var e=A();Object(n.useEffect)((function(){e.start(H.players)}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement(P,{game:void 0===e.status?H:e,onSquareClick:function(t,a){if(e.status===b.draw||e.status===b.won)console.log("Game restarting"),console.log(e),e.playAgain(),e.startingPlayer.id===H.players[0].id&&e.takeTurn(H.players[1],e.bestMove(H.players[1]));else try{if(e.currentPlayer.id===H.players[0].id){e.takeTurn(e.currentPlayer,[t,a]);var n=e.bestMove(H.players[1]);e.takeTurn(H.players[1],n)}}catch(l){console.error(l)}},myPlayer:H.players[0]}))},V=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),i=Object(m.a)(c,2),s=i[0],o=i[1];return s?"offlineFriend"===s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ttt-page"},l.a.createElement(G,null))):"offlineBot"===s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ttt-page"},l.a.createElement(J,null))):"online"===s?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ttt-page"},l.a.createElement(L,{name:a}))):void 0:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ttt-page"},l.a.createElement(y,null),l.a.createElement(p,{onlineNick:a,setOnlineNick:r,setGameType:o})))},X=(a(98),function(e){var t=e.setGameType,a=e.setOnlineNick,r=Object(n.useState)(""),c=Object(m.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(!1),u=Object(m.a)(o,2),f=u[0],v=u[1];return l.a.createElement(l.a.Fragment,null,function(){if(f)return l.a.createElement(d,{text:"You must enter a nickname to play Online!"})}(),l.a.createElement(y,null),l.a.createElement("div",{className:"C4-select-container"},l.a.createElement("div",{className:"C4-select-text"},l.a.createElement("div",{className:"C4-title-yellow"},"C"),l.a.createElement("div",{className:"C4-title-red"},"O"),l.a.createElement("div",{className:"C4-title-yellow"},"N"),l.a.createElement("div",{className:"C4-title-red"},"N"),l.a.createElement("div",{className:"C4-title-yellow"},"E"),l.a.createElement("div",{className:"C4-title-red"},"C"),l.a.createElement("div",{className:"C4-title-yellow"},"T "),l.a.createElement("div",{className:"C4-title-red"},"4")),l.a.createElement("input",{className:"C4-nick-input",placeholder:"Nick",type:"text",value:i,onChange:function(e){return t=e.target.value,void s(t);var t}}),l.a.createElement("div",{className:"C4-play C4-play-online",onClick:function(){i||f?i&&(t("online"),a(i)):(v(!0),setTimeout((function(){v(!1)}),5e3))}},"Play Online!"),l.a.createElement("div",{className:"C4-or-text"},"or"),l.a.createElement("div",{className:"C4-play C4-play-offline",onClick:function(){t("offline")}},"Offline vs Friend!"),l.a.createElement("div",{className:"C4-play C4-play-offlineBot",onClick:function(){t("offlineBot")}},"Offline vs Bot!")))}),z=(a(99),a(100),function(e){var t=e.side,a=e.name,n=e.game,r=e.id,c=e.value,i=r===n.currentPlayer.id?" player-box-border":"";return l.a.createElement("span",{className:"C4 player-box-container ".concat(t).concat(i)},l.a.createElement("span",{className:"user-icon-circle"},l.a.createElement("img",{alt:"user icon",src:"/images/user-icon.svg"})),l.a.createElement("div",{className:"player-box-name"},a),"red"===c?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"c4-mini-piece-red c4-mini-piece"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"c4-mini-piece-yellow c4-mini-piece"})))}),K={angle:90,spread:"360",startVelocity:"35",elementCount:"70",dragFriction:.12,duration:3e3,stagger:"1",width:"13px",height:"13px",perspective:"500px",colors:["#a864fd","#29cdff","#78ff44","#ff718d","#fdff6a"]},Q=function(e){var t=e.game,a=e.onColumnClick,r=e.myPlayer,c=Object(n.useState)(!1),i=Object(m.a)(c,2),s=i[0],o=i[1];Object(n.useEffect)((function(){t.status===b.won&&(null===r||void 0===r?void 0:r.value)===t.winner.value&&o(!0),t.status===b.inGame&&o(!1)}),[t.status]);var u=function(e){var a,n=Object(m.a)(e,2),l=n[0],c=n[1],i=t.board[l][c],s=t.players.find((function(e){return e.id===i}));return s?"red"===s.value?"c4-tile-red":"c4-tile-yellow":t.status===b.inGame&&(null===r||void 0===r?void 0:r.value)===(null===(a=t.currentPlayer)||void 0===a?void 0:a.value)&&(c>=t.board[l].length-1||t.board[l][c+1])?"red"===t.currentPlayer.value?"c4-next-active-tile-red":"c4-next-active-tile-yellow":""},d=function(e,a){if(t.status===b.won){var n,l=Object(E.a)(t.winningTiles);try{for(l.s();!(n=l.n()).done;){var c,i=Object(m.a)(n.value,2),s=i[0],o=i[1];if(e===s&&a===o)return(null===(c=t.winner)||void 0===c?void 0:c.value)===r.value?"c4-tile-won":"c4-tile-loss"}}catch(u){l.e(u)}finally{l.f()}}return""},f=function(e,a){return s&&function(){var n,l=Object(E.a)(t.winningTiles);try{for(l.s();!(n=l.n()).done;){var r=n.value;if(r[0]===e&&r[1]===a)return!0}}catch(c){l.e(c)}finally{l.f()}}()};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"c4-board-block"},l.a.createElement(z,{game:t,name:t.players[0].name,id:t.players[0].id,value:t.players[0].value,side:"left"}),l.a.createElement("div",{className:"break"}),l.a.createElement("div",{className:"c4-board"},t.board.map((function(e,t){return l.a.createElement("div",{onClick:function(){a(t)},key:t,className:"c4-column x:".concat(t)},e.map((function(e,a){return l.a.createElement("div",{className:"c4-tile x:".concat(t," y:").concat(a," ").concat(u([t,a])," ").concat(d(t,a)),key:"x:".concat(t," y:").concat(a),id:e},l.a.createElement(k.a,{active:f(t,a),config:K}),l.a.createElement("div",{className:"c4-tile-inner"}))})))}))),l.a.createElement(z,{game:t,name:t.players[1].name,id:t.players[1].id,value:t.players[1].value,side:"right"})),l.a.createElement("div",{className:"c4-score-container"},function(){var e;return null===(e=t.lastResults)||void 0===e?void 0:e.map((function(e,t){return"tie"===e?l.a.createElement("img",{key:t,className:"c4-tie-icon c4-score-icon",alt:"small tie",src:"/images/tie.svg"}):"red"===e.value?l.a.createElement("div",{key:t,className:"c4-score-icon c4-score-icon-red"}):l.a.createElement("div",{key:t,className:"c4-score-icon c4-score-icon-yellow"})}))}()))},U=function(e){Object(C.a)(a,e);var t=Object(j.a)(a);function a(e){var n;if(Object(h.a)(this,a),e.length>2)throw new Error("You have too many friends");(n=t.call(this,e)).board=new Array(7).fill([]).map((function(){return[null,null,null,null,null,null]})),n.ties=0,n.winningTiles=[],n.lastResults=[],n.lastResultsAmount=7,n.start=function(){n.status=b.inGame},n.lowestY=function(e){if(null!==e[0])return null;for(var t=null,a=0;a<e.length-1;a++)if(null!==e[a+1]){t=a;break}return null===t&&(t=e.length-1),t},n.checkForDraw=function(e){if(n.status!==b.won){var t,a=0,l=Object(E.a)(e);try{for(l.s();!(t=l.n()).done;){var r,c=t.value,i=Object(E.a)(c);try{for(i.s();!(r=i.n()).done;){r.value||(a+=1)}}catch(s){i.e(s)}finally{i.f()}}}catch(s){l.e(s)}finally{l.f()}return 0===a}},n.checkForWinAtPoint=function(e,t){var a=Object(m.a)(t,2),n=a[0],l=a[1],r=[[n,l],[null,null],[null,null],[null,null]],c=e[n][l];if(null!==c){for(var i=0,s=[[-1,0],[-1,-1],[0,-1],[-1,1]];i<s.length;i++){for(var o=s[i],u=1,d=0,f=[1,-1];d<f.length;d++)for(var v=f[d],y=n+o[0]*v,p=l+o[1]*v;y>=0&&y<e.length&&p>=0&&p<e[n].length&&e[y][p]===c;)r[(u+=1)-1]=[y,p],y+=o[0]*v,p+=o[1]*v;if(u>=4)return[!0,r]}return[!1,[[null,null],[null,null],[null,null],[null,null]]]}},n.minimax=function(e,t,a,l,r,c,i){if(a>7)return Math.random()-1;if(t){for(var s=-1/0,o=0;o<e.length;o++){var u=n.lowestY(e[o]);if(null!==u){e[o][u]=l.id;var m=void 0;if(m=n.checkForWinAtPoint(e,[o,u])[0]?22-a:n.checkForDraw(e)?0:n.minimax(e,!1,a+1,l,r,c,i),e[o][u]=null,m>s&&(s=m),m>=i)return s;m>c&&(c=m)}}return s}if(!t){for(var d=1/0,f=0;f<e.length;f++){var v=n.lowestY(e[f]);if(null!==v){e[f][v]=r.id;var y=void 0;if(y=n.checkForWinAtPoint(e,[f,v])[0]?-22+a:n.checkForDraw(e)?0:n.minimax(e,!0,a+1,l,r,c,i),e[f][v]=null,y<d&&(d=y),y<=c)return d;y<i&&(i=y)}}return d}},n.bestMove=function(e){if(n.status!==b.inGame)throw new Error("Can't find best move of game if it isn't in progress");if(n.currentPlayer.id!==e.id)throw new Error("It isn't this players turn so cannot find their best move. Please wait your turn");for(var t=null,a=n.players.find((function(t){return t.id!==e.id})),l=-1/0,r=-1/0,c=new Array(7).fill([null]).map((function(){return new Array(6).fill(null)})),i=0;i<n.board.length;i++)for(var s=0;s<n.board[i].length;s++)c[i][s]=n.board[i][s];for(var o=0;o<c.length;o++)if(!c[o][0]){var u=n.lowestY(c[o]);c[o][u]=e.id;var m=void 0;if((m=n.checkForWinAtPoint(c,[o,u])[0]?9:n.checkForDraw(c)?0:n.minimax(c,!1,2,e,a,r,1/0))>l&&(l=m,t=o),m>=1/0)return t;m>r&&(r=m),c[o][u]=null}return t},n.takeTurn=function(e,t){if(n.status!==b.inGame)throw new Error("The game is not currently active");if(e.id!==n.currentPlayer.id)throw new Error("Whoops! It's not your turn yet");if(n.board[t][0])throw new Error("Column is full");var a=n.lowestY(n.board[t]);n.board[t][a]=e.id;var l=n.checkForWinAtPoint(n.board,[t,a]),r=Object(m.a)(l,2),c=r[0],i=r[1];if(c){n.status=b.won;var s=n.players.find((function(t){return t.id===e.id}));s.score+=1,n.winner=s,n.winningTiles=i,n.lastResults.push(n.winner),n.lastResults.length>n.lastResultsAmount&&n.lastResults.splice(0,n.lastResults.length-n.lastResultsAmount)}n.checkForDraw(n.board)&&(n.ties+=1,n.status=b.draw,n.lastResults.push("tie"),n.lastResults.length>n.lastResultsAmount&&n.lastResults.splice(0,n.lastResults.length-n.lastResultsAmount)),n.status===b.inGame&&n.goToNextPlayer()},n.playAgain=function(){n.winningSquares=[[null,null],[null,null],[null,null],[null,null]],n.winner=null,n.status=b.inGame,n.board=new Array(7).fill([]).map((function(){return[null,null,null,null,null,null]}));var e=n.players.find((function(e){return e.id!==n.currentPlayer.id}));n.setCurrentPlayer(e)};var l=n.players.find((function(e){return"red"===e.value}));return n.setCurrentPlayer(l),n}return a}(N),Z={board:new Array(7).fill([]).map((function(){return[null,null,null,null,null,null]})),players:[{name:"Player 1",value:"red",id:1,score:0},{name:"Player 2",value:"yellow",id:2,score:0}],ties:0,get currentPlayer(){return this.players[0]}},$={},_=function(){var e,t,a,n,l,r,c,i,s=T();return{start:function(e){var t=new U(e);t.start(),$=t,s()},takeTurn:function(e,t){$.takeTurn(e,t),s()},bestMove:function(e){return $.bestMove(e)},playAgain:function(){$.playAgain(),s()},leave:function(e){$.leave(e),s()},winningTiles:null===(e=$)||void 0===e?void 0:e.winningTiles,lastResults:null===(t=$)||void 0===t?void 0:t.lastResults,ties:null===(a=$)||void 0===a?void 0:a.ties,board:null===(n=$)||void 0===n?void 0:n.board,players:null===(l=$)||void 0===l?void 0:l.players,winner:null===(r=$)||void 0===r?void 0:r.winner,status:null===(c=$)||void 0===c?void 0:c.status,currentPlayer:null===(i=$)||void 0===i?void 0:i.currentPlayer}},ee=[{name:"Player 1",value:"red",id:1,score:0},{name:"Player 2",value:"yellow",id:2,score:0}],te=function(){var e=_();Object(n.useEffect)((function(){e.start(ee)}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement(Q,{game:e.players?e:Z,onColumnClick:function(t){if(e.status===b.draw||e.status===b.won)e.playAgain();else try{e.takeTurn(e.currentPlayer,t)}catch(a){console.error(a)}},myPlayer:e.currentPlayer}))},ae={board:[[null,null,null],[null,null,null],[null,null,null]],ties:0,players:[{id:"1",name:"You",value:"red",score:0,playerType:"user"},{id:"0",name:"Bot",value:"yellow",score:0,playerType:"bot"}],get currentPlayer(){return this.players[0]}},ne=function(){var e=_();Object(n.useEffect)((function(){e.start(ae.players)}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement(Q,{game:e.players?e:Z,onColumnClick:function(t){if(e.status===b.draw||e.status===b.won){e.playAgain();try{var a=e.bestMove(ae.players[1]);e.takeTurn(ae.players[1],a)}catch(l){console.log(l)}}else{if(null!==e.board[t][0])return void console.error("Column is full!");try{e.takeTurn(ae.players[0],t)}catch(l){console.error(l)}try{var n=e.bestMove(ae.players[1]);console.log(n),e.takeTurn(ae.players[1],n)}catch(l){console.log(l)}}},myPlayer:e.currentPlayer}))},le="",re={name:"",id:Math.floor(1e14*Math.random()),value:"",score:0},ce={name:"",id:"",value:"",score:0},ie=function(e){var t=e.name,a=Object(n.useState)(!1),r=Object(m.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(!1),o=Object(m.a)(s,2),u=o[0],d=o[1],f=_();re.name=t,Object(n.useEffect)((function(){(le=M()("https://lochlancc-backend.herokuapp.com/")).emit("C4-connect",re),le.on("C4-connected",(function(){i(!0)})),le.on("C4-match-found",(function(e){var t=e[e.findIndex((function(e){return e.id===re.id}))],a=e[e.findIndex((function(e){return e.id!==re.id}))];re.value=t.value,ce=a,f.start(e),d(!0)})),le.on("C4-turn-taken",(function(e){f.takeTurn(ce,e)})),le.on("C4-playing-again",(function(){f.playAgain()}))}),[]);return l.a.createElement("div",null,c?c&&!u?l.a.createElement(W,{text:"Joined queue. Searching for other players..."}):void 0:l.a.createElement(W,{text:"Connecting to server..."}),l.a.createElement(y,null),l.a.createElement(Q,{game:f.players?f:Z,onColumnClick:function(e){if(f.status===b.draw||f.status===b.won)le.emit("C4-play-again",{playerOther:ce}),f.playAgain();else try{f.takeTurn(re,e),le.emit("C4-take-turn",{x:e,playerOther:ce})}catch(t){console.error(t)}},myPlayer:re}))},se=(a(101),function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(m.a)(c,2),s=i[0],o=i[1];return a?"online"===a?l.a.createElement("div",{className:"C4-page"},l.a.createElement(ie,{name:s})):"offlineBot"===a?l.a.createElement("div",{className:"C4-page"},l.a.createElement(ne,{name:s})):l.a.createElement("div",{className:"C4-page"},l.a.createElement(te,null)):l.a.createElement("div",{className:"C4-page"},l.a.createElement(X,{setGameType:r,setOnlineNick:o}))}),oe={preGame:Symbol("preGame"),inGame:Symbol("inGame"),endedGame:Symbol("endedGame")},ue=function e(t,a,n){var l=this;Object(h.a)(this,e),this.newGameSetup=function(e,t,a){l.direction=[0,-1],l.debouncedDirection=[0,-1],l.status=oe.preGame,l.moveCoolDown=a,l.score=0,l.isPaused=!1,l.boardWidth=e,l.boardHeight=t,l.position=[[(e-1)/2,(t+3)/2],[(e-1)/2,(t+1)/2],[(e-1)/2,(t-1)/2]],l.board=new Array(e).fill(null).map((function(){return new Array(t).fill(null)})),l.board[(e-1)/2][(t+3)/2]="snake",l.board[(e-1)/2][(t+1)/2]="snake",l.board[(e-1)/2][(t-1)/2]="snake",l.food=[[null,null],l.generateID()];var n=l.newFoodPos();l.food[0]=n,l.board[n[0]][n[1]]="food"},this.generateID=function(){return Math.floor(Math.random()*Math.pow(10,10))},this.shiftSnake=function(){var e=l.position[l.position.length-1],t=[e[0]+l.direction[0],e[1]+l.direction[1]],a=l.position[0],n=l.food[0][0],r=l.food[0][1];if(l.debouncedDirection[0]!==-l.direction[0]&&l.debouncedDirection[1]!==-l.direction[1]&&(l.direction=l.debouncedDirection),t[0]>=l.boardWidth||t[1]>=l.boardHeight||t[0]<0||t[1]<0||"snake"===l.board[t[0]][t[1]]&&(t[0]!==a[0]||t[1]!==a[1]))return l.status=oe.endedGame,void(l.score>l.highScore&&(l.highScore=l.score));if(t[0]===n&&t[1]===r){l.score+=5;var c=l.newFoodPos();l.food[0]=c,l.board[c[0]][c[1]]="food"}else l.board[a[0]][[a[1]]]=null,l.position.splice(0,1);l.position.push(t),l.board[t[0]][[t[1]]]="snake"},this.newFoodPos=function(){var e=Math.floor(Math.random()*l.boardWidth),t=Math.floor(Math.random()*l.boardHeight);return null!==l.board[e][t]?l.newFoodPos():[e,t]},this.start=function(){l.status=oe.inGame},this.turn=function(e,t){l.debouncedDirection=[e,t]},this.playAgain=function(){l.newGameSetup(l.boardWidth,l.boardHeight,l.moveCoolDown)},this.newGameSetup(t,a,n),this.highScore=0},me=!0,de={},fe=function(e,t,a){var l=T();Object(n.useEffect)((function(){me=!1}),[]),me&&(de=new ue(e,t,a));var r=function e(){de.status!==oe.inGame||de.isPaused||(de.shiftSnake(),l(),setTimeout((function(){e()}),de.moveCoolDown),l())};return{start:function(e,t,a){de.start(e,t,a),r(),l()},turn:function(e,t){de.turn(e,t),l()},playAgain:function(){de.playAgain(),l()},togglePause:function(){if(de.isPaused)return de.isPaused=!1,void r();de.isPaused=!0,l()},position:de.position,status:de.status,board:de.board,score:de.score,highScore:de.highScore,food:de.food,isPaused:de.isPaused}},ve=function(e){Object(n.useEffect)((function(){var t=function(t){38===t.keyCode?e.turn(0,-1):40===t.keyCode?e.turn(0,1):37===t.keyCode?e.turn(-1,0):39===t.keyCode&&e.turn(1,0)};document.addEventListener("keydown",t),document.addEventListener("touchstart",(function(e){var t=function(e){return e.touches||e.originalEvent.touches}(e)[0];a=t.clientX,n=t.clientY}),!1),document.addEventListener("touchmove",(function(t){if(!a||!n)return;var l=t.touches[0].clientX,r=t.touches[0].clientY,c=a-l,i=n-r;Math.abs(c)>Math.abs(i)?c>0?e.turn(-1,0):e.turn(1,0):i>0?e.turn(0,-1):e.turn(0,1);a=null,n=null}),!1),document.body.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1}),document.body.onkeydown=function(e){e.preventDefault()};var a=null,n=null;return function(){return document.removeEventListener("keydown",t)}}),[])},ye=(a(102),function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(3),i=Object(m.a)(c,2),s=i[0],o=i[1],u=fe(21,15,140);ve(u);var d=u.status===oe.preGame,f=u.status===oe.endedGame,v=u.status===oe.inGame,y=f||u.isPaused?"s-grey":"";Object(n.useEffect)((function(){a&&setTimeout((function(){o(s-1)}),600)}),[a]),Object(n.useEffect)((function(){if(a&&setTimeout((function(){o(s-1)}),600),s<=0&&d){r(!1);try{u.start()}catch(e){console.log(e)}}}),[s]),document.body.onkeyup=function(e){"Space"!==e.code&&"Enter"!==e.code||(d?r(!0):f?p():v&&u.togglePause())};var p=function(){f&&(o(3),u.playAgain())};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:p,className:"s-board-box"},l.a.createElement("div",{className:"s-menu-container"},a||u.status!==oe.preGame?f?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"s-center-text"},"Game Over!")):void 0:l.a.createElement("div",{onClick:function(){r(!0)},className:"s-center-text"},"Start!"),function(){if(!0===a&&u.status===oe.preGame)return l.a.createElement("div",{className:"s-center-text"},s)}()),l.a.createElement("div",{className:"s-board"},u.board.map((function(e,t){return l.a.createElement("div",{key:"".concat(t),className:"s-column"},e.map((function(e,a){return"snake"!==e||d?"food"!==e||d?l.a.createElement("div",{key:"".concat(t," ").concat(a),className:"s-cell-empty s-cell"}):l.a.createElement("img",{key:u.food[1],className:"s-cherry",alt:"cherry",src:"/images/snake-cherry.svg"}):l.a.createElement("div",{key:"".concat(t," ").concat(a),className:"s-cell-snake s-cell ".concat(y)})})))})))),l.a.createElement("div",{className:"s-score"},l.a.createElement("span",{className:"s-left-score"},"Score: ".concat(u.score)),l.a.createElement("span",{className:"s-right-score"},"High Score: ".concat(u.highScore))))}),pe=(a(103),function(){return l.a.createElement("div",{className:"snake-page"},l.a.createElement(y,null),l.a.createElement("div",{className:"s-board-container"},l.a.createElement(ye,null)))}),Ee=a(2),ge=function(){return l.a.createElement(i.a,null,l.a.createElement(Ee.c,null,l.a.createElement(Ee.a,{exact:!0,path:"/"},l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"main-header"},l.a.createElement("span",{className:"name"},l.a.createElement("a",{className:"nostyle header-link",href:"/"},"Arcade || Lochlan.cc"))),l.a.createElement("div",{className:"main"},l.a.createElement(v,null)))),l.a.createElement(Ee.a,{path:"/ttt"},l.a.createElement(V,null)),l.a.createElement(Ee.a,{path:"/connect4"},l.a.createElement(se,null)),l.a.createElement(Ee.a,{path:"/snake"},l.a.createElement(pe,null))))};c.a.render(l.a.createElement(ge,null),document.querySelector("#root"))},34:function(e,t,a){},37:function(e,t,a){},52:function(e,t,a){e.exports=a(104)},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},92:function(e,t){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[52,1,2]]]);
//# sourceMappingURL=main.4ab9fd02.chunk.js.map